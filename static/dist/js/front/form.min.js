!function(){function a(a,b){this.$form=a,this.options=$.extend(!0,{currentPageClassName:"current",selectors:{sections:".form-fields-group",controls:".wizard-controls",controlPrevious:".wizard-control-previous",controlNext:".wizard-control-next",controlCurrentPage:".wizard-control-current-page",controlProgress:".wizard-control-progress",controlSubmit:".wizard-control-submit[type=submit]"}},b)}a.prototype.init=function(){var a=this;window.Parsley.setLocale(this.$form.data("locale")||"en"),this.getSections().each(function(a,b){$(b).find(":input").attr("data-parsley-group","block-"+a)});var b=this.getControls();return this.options.selectors.controlPrevious&&b.find(this.options.selectors.controlPrevious).click(function(b){b.preventDefault();var c=a.getCurrentPage();c>0&&a.navigateTo(c-1)}),this.options.selectors.controlNext&&b.find(this.options.selectors.controlNext).click(function(b){b.preventDefault();var c=a.getCurrentPage();a.$form.parsley().validate({group:"block-"+c})&&a.navigateTo(c+1)}),this.navigateTo(this.getCurrentPage()),!0},a.prototype.navigateTo=function(a){a=a>0?parseInt(a):0;var b=this.getSections(),c=this.getControls(),d=a>=b.length-1;b.removeClass(this.options.currentPageClassName).eq(a).addClass(this.options.currentPageClassName),this.options.selectors.controlPrevious&&c.find(this.options.selectors.controlPrevious).toggle(a>0),this.options.selectors.controlNext&&c.find(this.options.selectors.controlNext).toggle(!d),this.options.selectors.controlSubmit&&c.find(this.options.selectors.controlSubmit).toggle(d),this.options.selectors.controlProgress&&c.find(this.options.selectors.controlProgress).val(a+1),this.options.selectors.controlCurrentPage&&c.find(this.options.selectors.controlCurrentPage).text(a+1)},a.prototype.getCurrentPage=function(){var a=this.getSections();return a.index(a.filter("."+this.options.currentPageClassName))},a.prototype.getSections=function(){return this.$form.find(this.options.selectors.sections)},a.prototype.getControls=function(){return this.$form.find(this.options.selectors.controls)},window.NosFormWizard=a}(),function(){function a(a,b){this.$form=a,this.settings=$.extend(!0,{fields:{}},b)}a.prototype.init=function(){if("object"==typeof this.settings.fields)for(var a in this.settings.fields)this.settings.fields.hasOwnProperty(a)&&this.initField(a,this.settings.fields[a])},a.prototype.initField=function(a,b){var c=this,d=this.$form.find('[name="'+a+'"], [name^="'+a+'["], [data-id-field="'+a+'"]');if(!d.length)return console&&console.warn("NosFormCondition: target field `"+a+"` not found."),!1;if(!b.observedFieldName)return console&&console.warn("NosFormCondition: missing `observedFieldName` in fields settings."),!1;var e=this.$form.find('[name^="'+b.observedFieldName+'"]');return e.length?(d.is("input, select, textarea")&&void 0===d.data("required")?void 0===d.attr("required")?d.data("required",""):d.data("required",d.attr("required")):d.parent().find("input, select, textarea").each(function(){void 0===$(this).attr("required")?$(this).data("required",""):$(this).data("required",$(this).attr("required"))}),e.on("init keyup input change",function(){c.updateFieldState(d,e,b)}).trigger("init"),!0):(console&&console.warn("NosFormCondition: observed field `"+b.observedFieldName+"` not found."),!1)},a.prototype.updateFieldState=function(a,b,c){this.checkFieldMatchValue(b,c.observedFieldValue)?(a.closest(".nos_form_field").removeClass("nos_form_disabled").addClass("nos_form_enabled"),a.is("input, select, textarea")&&""!=a.data("required")?a.attr("required","required"):a.parent().find("input, select, textarea").each(function(){""!=$(this).data("required")&&$(this).attr("required","required")})):(a.closest(".nos_form_field").addClass("nos_form_disabled").removeClass("nos_form_enabled"),a.is("input, select, textarea")&&""!=a.data("required")?a.removeAttr("required"):a.parent().find("input, select, textarea").removeAttr("required"))},a.prototype.checkFieldMatchValue=function(a,b){return a.is('input[type="radio"], input[type="checkbox"]')?a.filter('[value="'+b+'"]:checked').length>0:a.val()==b},window.NosFormCondition=a}(),function(a,b,c){function d(b){b(function(){b(".nos_form_field").each(function(){if(b(this).find("div.form_checkbox").length>0){var a=b(this).find(":checkbox[required]");a.change(function(){a.is(":checked")?a.removeAttr("required"):a.attr("required","required")})}}),b(".noviusos_form form.nos-form-layout").each(function(){var c=b(this);if(c.find(".form-fields-group").length>1)if(void 0!==a.NosFormWizard){var d=new NosFormWizard(c);d.init()}else console&&console.warn("Can't initialize the form wizard: Module NosFormWizard not found.");if(void 0!==a.NosFormCondition){var e={};""!==c.attr("data-conditions")&&(e={fields:JSON.parse(c.attr("data-conditions"))});new NosFormCondition(c,e).init()}else console&&console.warn("Can't initialize the form conditions: Module NosFormCondition not found.")})})}function e(a,c){!function(b,d){var e=b.createElement(d),f=b.getElementsByTagName(d)[0];e.src=a,e.onload=c,e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||c()},f.parentNode.insertBefore(e,f)}(b,"script")}function f(a,b){if(a.length){var c=a.shift();c.check()?f(a,b):e(c.url,function(){f(a,b)})}else b()}var g="";"object"==typeof noviusos_form_params&&(g=noviusos_form_params.uri_base,"/"===g.slice(-1)&&(g=g.slice(0,-1))),f([{url:g+"/static/apps/noviusos_form/dist/vendor/jquery.min.js",check:function(){return void 0!==a.jQuery}},{url:g+"/static/apps/noviusos_form/dist/vendor/parsley.min.js",check:function(){return void 0!==$.fn.parsley}}],function(){d(jQuery)})}(window,document);
//# sourceMappingURL=form.min.js.map